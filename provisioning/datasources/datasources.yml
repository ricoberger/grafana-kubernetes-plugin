apiVersion: 1

datasources:
  - name: Kubernetes
    type: ricoberger-kubernetes-datasource
    uid: kubernetes
    access: proxy
    isDefault: false
    orgId: 1
    version: 1
    editable: true
    jsonData:
      clusterProvider: path
      clusterPath: /kubeconfig.yaml
      clusterContext: default
      grafanaUsername: admin
      impersonateUser: false
      impersonateGroups: false
      generateKubeconfig: true
      generateKubeconfigName: grafana
      generateKubeconfigTTL: 604800
      generateKubeconfigPort: 11716
      generateKubeconfigRedirectUrls:
        - http://localhost:11716
      integrationsMetricsDatasourceUid: prometheus
      integrationsMetricsKubeletJob: kubelet
      integrationsMetricsKubeStateMetricsJob: kube-state-metrics
      integrationsMetricsNodeExporterJob: node-exporter
      integrationsTracesQuery: '{"datasource":"jaeger","queries":[{"query":"$${__value.raw}","refId":"A"}]}'
    secureJsonData:
      clusterKubeconfig:
      grafanaPassword: admin

  - name: Prometheus
    type: prometheus
    uid: prometheus
    url: http://host.docker.internal:8481/select/0/prometheus
    access: proxy
