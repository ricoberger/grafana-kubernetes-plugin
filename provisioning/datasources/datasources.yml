apiVersion: 1

datasources:
  - name: Kubernetes
    type: ricoberger-kubernetes-datasource
    uid: kubernetes
    access: proxy
    isDefault: false
    orgId: 1
    version: 1
    editable: true
    jsonData:
      clusterProvider: path
      clusterPath: /kubeconfig-grafana.yaml
      clusterContext: default
      grafanaUsername: admin
      impersonateUser: false
      impersonateGroups: false
      generateKubeconfig: true
      generateKubeconfigName: grafana
      generateKubeconfigTTL: 604800
      generateKubeconfigPort: 11716
      generateKubeconfigRedirectUrls:
        - http://localhost:11716
      integrationsMetricsDatasourceUid: prometheus
      integrationsMetricsKubeletJob: kubelet
      integrationsMetricsKubeStateMetricsJob: kube-state-metrics
      integrationsMetricsNodeExporterJob: node-exporter
      integrationsTracesQuery: '{"datasource":"jaeger","queries":[{"query":"$${__value.raw}","refId":"A"}]}'
    secureJsonData:
      clusterKubeconfig:
      grafanaPassword: admin
  - name: Jaeger
    type: jaeger
    uid: jaeger
    url: http://jaeger:16686
    # To use a Jaeger instance running on the host machine, uncomment the line
    # below and comment out the line above.
    # url: http://host.docker.internal:16686
    access: proxy
  # To use a Prometheus instance running on the host machine, uncomment the
  # lines bewlow. This can be used to test the metrics integration of the
  # Kubernetes datasource.
  # - name: Prometheus
  #   type: prometheus
  #   uid: prometheus
  #   url: http://host.docker.internal:8481/select/0/prometheus
  #   access: proxy
